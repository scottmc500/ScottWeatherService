# Firebase App Hosting Configuration for Next.js Application
runtime: nodejs22

# Build configuration
build:
  commands:
    - echo "Building Next.js application..."
    - npm run build
  
# Run configuration  
run:
  commands:
    - echo "Starting Next.js application..."
    - npm start

# Environment variables (simplified for initial deployment)
env:
  - variable: NODE_ENV
    value: production
  - variable: NEXT_PUBLIC_FIREBASE_PROJECT_ID
    value: scott-weather-service
  - variable: NEXT_PUBLIC_USE_FIREBASE_EMULATORS
    value: false

# Health check configuration
healthCheck:
  path: /api/health
  port: 3000
  timeoutSeconds: 30

# Resource limits
resources:
  cpu: "1"
  memory: "2Gi"

# Scaling configuration
scaling:
  minInstances: 1
  maxInstances: 10
