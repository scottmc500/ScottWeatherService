# Firebase App Hosting Configuration for Next.js Application
runtime: nodejs22

# Build configuration
build:
  commands:
    - echo "Building Next.js application..."
    - npm run build
  
# Run configuration  
run:
  commands:
    - echo "Starting Next.js application..."
    - npm start

# Environment variables (add your production environment variables here)
env:
  - variable: NODE_ENV
    value: production
  - variable: NEXT_PUBLIC_FIREBASE_API_KEY
    secret: firebase_api_key
  - variable: NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN
    value: scott-weather-service.firebaseapp.com
  - variable: NEXT_PUBLIC_FIREBASE_PROJECT_ID
    value: scott-weather-service
  - variable: NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET
    value: scott-weather-service.firebasestorage.app
  - variable: NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID
    value: 24463859611
  - variable: NEXT_PUBLIC_FIREBASE_APP_ID
    value: 1:24463859611:web:889f78551297e924850b3e
  - variable: NEXT_PUBLIC_GOOGLE_CLIENT_ID
    secret: google_client_id
  - variable: NEXT_PUBLIC_GOOGLE_CLIENT_SECRET
    secret: google_client_secret
  - variable: NEXT_PUBLIC_USE_FIREBASE_EMULATORS
    value: false

# Health check configuration
healthCheck:
  path: /api/health
  port: 3000
  timeoutSeconds: 30

# Resource limits
resources:
  cpu: "1"
  memory: "2Gi"

# Scaling configuration
scaling:
  minInstances: 1
  maxInstances: 10
